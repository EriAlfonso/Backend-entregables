
{"level":"error","message":"error deleting product Cannot read properties of undefined (reading 'role')","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at deleteProduct (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/product.controller.js:166:22)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at premiumAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:40:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-06T01:43:41.088Z"}
{"error":{},"level":"fatal","message":"Internal Server Error","timestamp":"2023-12-06T01:43:41.093Z"}
{"level":"error","message":"User:Eri Does not own the product","timestamp":"2023-12-06T01:44:59.365Z"}
{"level":"error","message":"User:Testing  Does not own the product","timestamp":"2023-12-06T01:54:01.623Z"}
{"level":"error","message":"error deleting product Cannot read properties of undefined (reading 'role')","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at deleteProduct (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/product.controller.js:167:22)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at premiumAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:40:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-06T01:54:22.352Z"}
{"error":{},"level":"fatal","message":"Internal Server Error","timestamp":"2023-12-06T01:54:22.354Z"}
{"level":"error","message":"User:Testing  Does not own the product","timestamp":"2023-12-06T01:54:33.220Z"}
{"level":"error","message":"Product with id:65669406c0ae37410b7501d6 Not found ","timestamp":"2023-12-06T02:01:23.540Z"}
{"level":"error","message":"Purchase error: Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T20:59:30.235Z"}
{"level":"error","message":"Purchase error: Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:01:04.099Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:01:04.107Z"}
{"level":"error","message":"Purchase error: Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:02:21.706Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:02:21.709Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:35)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)","timestamp":"2023-12-12T21:03:51.489Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:35)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)","timestamp":"2023-12-12T21:03:51.493Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:04:31.007Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:04:31.008Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:45.721Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:45.725Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:58.248Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:58.251Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:08:29.155Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:08:29.162Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:10:01.813Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:10:01.821Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:12:35.189Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:12:35.194Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:04.255Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:04.256Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:54.835Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:54.839Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:16:48.907Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:16:48.910Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:19:13.160Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:19:13.161Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:24:38.477Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:24:38.481Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:34:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:27:24.142Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:34:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:27:24.148Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:28:52.708Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:28:52.713Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:30:11.133Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:30:11.137Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:31:25.311Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:31:25.318Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:37:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:33:30.124Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:37:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:33:30.132Z"}
{"level":"error","message":"Purchase error: ticket is not defined","stack":"ReferenceError: ticket is not defined\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:43:72)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:35:26.720Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:43:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:37:03.399Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:40:24.825Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:41:54.982Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:43:18.133Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:46:53.926Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:49:38.309Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:50:38.483Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:53:07.126Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:54:41.540Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:55:27.347Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:55:50.467Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:56:32.175Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:57:05.214Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'products')","stack":"TypeError: Cannot read properties of undefined (reading 'products')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:40:18)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:40:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:26:50.523Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'products')","stack":"TypeError: Cannot read properties of undefined (reading 'products')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:40:18)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:40:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:26:50.525Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:40:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:32:50.188Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:40:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:32:50.194Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:41:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:34:10.957Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:41:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:34:10.959Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:41:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:36:38.597Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:41:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:36:38.600Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:45:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:58:56.961Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:45:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T14:58:56.967Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:45:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:04:08.777Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:45:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:04:08.779Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:46:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:06:52.426Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:46:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:06:52.430Z"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:10 GMT","idempotency-key":"stripe-node-retry-cedd25a7-e28a-4f3d-83c5-4db699d82ab8","original-request":"req_j6qJm4KYRKxwox","request-id":"req_j6qJm4KYRKxwox","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:10 GMT","idempotency-key":"stripe-node-retry-cedd25a7-e28a-4f3d-83c5-4db699d82ab8","original-request":"req_j6qJm4KYRKxwox","request-id":"req_j6qJm4KYRKxwox","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_j6qJm4KYRKxwox","request_log_url":"https://dashboard.stripe.com/test/logs/req_j6qJm4KYRKxwox?t=1702480270","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_j6qJm4KYRKxwox","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:08.733Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:10 GMT","idempotency-key":"stripe-node-retry-cedd25a7-e28a-4f3d-83c5-4db699d82ab8","original-request":"req_j6qJm4KYRKxwox","request-id":"req_j6qJm4KYRKxwox","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"error","message":"Purchase error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:10 GMT","idempotency-key":"stripe-node-retry-cedd25a7-e28a-4f3d-83c5-4db699d82ab8","original-request":"req_j6qJm4KYRKxwox","request-id":"req_j6qJm4KYRKxwox","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_j6qJm4KYRKxwox","request_log_url":"https://dashboard.stripe.com/test/logs/req_j6qJm4KYRKxwox?t=1702480270","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_j6qJm4KYRKxwox","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:08.751Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:10 GMT","idempotency-key":"stripe-node-retry-cedd25a7-e28a-4f3d-83c5-4db699d82ab8","original-request":"req_j6qJm4KYRKxwox","request-id":"req_j6qJm4KYRKxwox","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:10 GMT","idempotency-key":"stripe-node-retry-cedd25a7-e28a-4f3d-83c5-4db699d82ab8","original-request":"req_j6qJm4KYRKxwox","request-id":"req_j6qJm4KYRKxwox","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_j6qJm4KYRKxwox","request_log_url":"https://dashboard.stripe.com/test/logs/req_j6qJm4KYRKxwox?t=1702480270","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_j6qJm4KYRKxwox","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :category=>\"Board Game\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :owner=>\"admin\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :code=>\"B001\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :price=>\"6100\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:08.757Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:16 GMT","idempotency-key":"stripe-node-retry-f56b0c1b-8a4b-44d8-b4ce-3232456665d2","original-request":"req_0LOEvOIJXWUEp2","request-id":"req_0LOEvOIJXWUEp2","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:16 GMT","idempotency-key":"stripe-node-retry-f56b0c1b-8a4b-44d8-b4ce-3232456665d2","original-request":"req_0LOEvOIJXWUEp2","request-id":"req_0LOEvOIJXWUEp2","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_0LOEvOIJXWUEp2","request_log_url":"https://dashboard.stripe.com/test/logs/req_0LOEvOIJXWUEp2?t=1702480276","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_0LOEvOIJXWUEp2","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:15.351Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:16 GMT","idempotency-key":"stripe-node-retry-f56b0c1b-8a4b-44d8-b4ce-3232456665d2","original-request":"req_0LOEvOIJXWUEp2","request-id":"req_0LOEvOIJXWUEp2","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"error","message":"Purchase error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:16 GMT","idempotency-key":"stripe-node-retry-f56b0c1b-8a4b-44d8-b4ce-3232456665d2","original-request":"req_0LOEvOIJXWUEp2","request-id":"req_0LOEvOIJXWUEp2","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_0LOEvOIJXWUEp2","request_log_url":"https://dashboard.stripe.com/test/logs/req_0LOEvOIJXWUEp2?t=1702480276","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_0LOEvOIJXWUEp2","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:15.372Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:16 GMT","idempotency-key":"stripe-node-retry-f56b0c1b-8a4b-44d8-b4ce-3232456665d2","original-request":"req_0LOEvOIJXWUEp2","request-id":"req_0LOEvOIJXWUEp2","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:16 GMT","idempotency-key":"stripe-node-retry-f56b0c1b-8a4b-44d8-b4ce-3232456665d2","original-request":"req_0LOEvOIJXWUEp2","request-id":"req_0LOEvOIJXWUEp2","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_0LOEvOIJXWUEp2","request_log_url":"https://dashboard.stripe.com/test/logs/req_0LOEvOIJXWUEp2?t=1702480276","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_0LOEvOIJXWUEp2","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :price=>\"5200\", :category=>\"Board Game\", :title=>\"Gloomhaven: Jaws of the Lion\", :code=>\"BG002\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :owner=>\"admin\", :title=>\"Codex: Space Marines (Hardback)\", :price=>\"6100\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:15.376Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:24 GMT","idempotency-key":"stripe-node-retry-34057c28-3b68-449b-b804-5f817204b539","original-request":"req_bgzOSP5V7MPkyP","request-id":"req_bgzOSP5V7MPkyP","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:24 GMT","idempotency-key":"stripe-node-retry-34057c28-3b68-449b-b804-5f817204b539","original-request":"req_bgzOSP5V7MPkyP","request-id":"req_bgzOSP5V7MPkyP","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_bgzOSP5V7MPkyP","request_log_url":"https://dashboard.stripe.com/test/logs/req_bgzOSP5V7MPkyP?t=1702480284","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_bgzOSP5V7MPkyP","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:22.808Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:24 GMT","idempotency-key":"stripe-node-retry-34057c28-3b68-449b-b804-5f817204b539","original-request":"req_bgzOSP5V7MPkyP","request-id":"req_bgzOSP5V7MPkyP","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"error","message":"Purchase error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:24 GMT","idempotency-key":"stripe-node-retry-34057c28-3b68-449b-b804-5f817204b539","original-request":"req_bgzOSP5V7MPkyP","request-id":"req_bgzOSP5V7MPkyP","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_bgzOSP5V7MPkyP","request_log_url":"https://dashboard.stripe.com/test/logs/req_bgzOSP5V7MPkyP?t=1702480284","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_bgzOSP5V7MPkyP","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:22.833Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:24 GMT","idempotency-key":"stripe-node-retry-34057c28-3b68-449b-b804-5f817204b539","original-request":"req_bgzOSP5V7MPkyP","request-id":"req_bgzOSP5V7MPkyP","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:11:24 GMT","idempotency-key":"stripe-node-retry-34057c28-3b68-449b-b804-5f817204b539","original-request":"req_bgzOSP5V7MPkyP","request-id":"req_bgzOSP5V7MPkyP","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_bgzOSP5V7MPkyP","request_log_url":"https://dashboard.stripe.com/test/logs/req_bgzOSP5V7MPkyP?t=1702480284","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_bgzOSP5V7MPkyP","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :price=>\"5200\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :code=>\"BG002\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :owner=>\"admin\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :category=>\"Book\", :status=>\"true\", :code=>\"B001\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:22.837Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:12:01 GMT","idempotency-key":"stripe-node-retry-85d27fcf-87d9-4575-b146-2272d2d63e09","original-request":"req_DwwGkt0cZPuJHL","request-id":"req_DwwGkt0cZPuJHL","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:12:01 GMT","idempotency-key":"stripe-node-retry-85d27fcf-87d9-4575-b146-2272d2d63e09","original-request":"req_DwwGkt0cZPuJHL","request-id":"req_DwwGkt0cZPuJHL","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_DwwGkt0cZPuJHL","request_log_url":"https://dashboard.stripe.com/test/logs/req_DwwGkt0cZPuJHL?t=1702480321","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_DwwGkt0cZPuJHL","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:59.701Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:12:01 GMT","idempotency-key":"stripe-node-retry-85d27fcf-87d9-4575-b146-2272d2d63e09","original-request":"req_DwwGkt0cZPuJHL","request-id":"req_DwwGkt0cZPuJHL","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"error","message":"Purchase error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:12:01 GMT","idempotency-key":"stripe-node-retry-85d27fcf-87d9-4575-b146-2272d2d63e09","original-request":"req_DwwGkt0cZPuJHL","request-id":"req_DwwGkt0cZPuJHL","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_DwwGkt0cZPuJHL","request_log_url":"https://dashboard.stripe.com/test/logs/req_DwwGkt0cZPuJHL?t=1702480321","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_DwwGkt0cZPuJHL","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:59.724Z","type":"StripeInvalidRequestError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:12:01 GMT","idempotency-key":"stripe-node-retry-85d27fcf-87d9-4575-b146-2272d2d63e09","original-request":"req_DwwGkt0cZPuJHL","request-id":"req_DwwGkt0cZPuJHL","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"level":"fatal","message":"Internal Server Error Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"1435","content-security-policy":"report-uri https://q.stripe.com/csp-report?p=v1%2Fcheckout%2Fsessions; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'","content-type":"application/json","date":"Wed, 13 Dec 2023 15:12:01 GMT","idempotency-key":"stripe-node-retry-85d27fcf-87d9-4575-b146-2272d2d63e09","original-request":"req_DwwGkt0cZPuJHL","request-id":"req_DwwGkt0cZPuJHL","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","stripe-version":"2023-10-16","vary":"Origin","x-stripe-routing-context-priority-tier":"api-testmode"},"message":"Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}","param":"client_reference_id","requestId":"req_DwwGkt0cZPuJHL","request_log_url":"https://dashboard.stripe.com/test/logs/req_DwwGkt0cZPuJHL?t=1702480321","statusCode":400,"type":"invalid_request_error"},"rawType":"invalid_request_error","requestId":"req_DwwGkt0cZPuJHL","stack":"Error: Invalid string: {:products=>{:\"0\"=>{:quantity=>\"1\", :_id=>{:description=>\"Like its famous predecessor, Gloomhaven: Jaws of the Lion is a dungeon crawler where players work together as a group of mercenaries, the titular Jaws of the Lion, to complete increasingly difficult scenarios.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2020/06/18002716/Gloomhaven-Jaws-of-the-Lion-3.jpg\", :stock=>\"49\", :owner=>\"admin\", :code=>\"BG002\", :title=>\"Gloomhaven: Jaws of the Lion\", :category=>\"Board Game\", :status=>\"true\", :price=>\"5200\", :__v=>\"0\"}}, :\"1\"=>{:quantity=>\"1\", :_id=>{:description=>\"Inside this 208-page hardback codex, you'll find everything you need to unleash the Space Marines in battle, plus thrilling lore and art to inspire your own collection.\", :thumbnail=>\"https://cdn.zatu.com/wp-content/uploads/2022/03/17055755/Codex-Space-Marines-Hardback.jpg\", :stock=>\"11\", :category=>\"Book\", :price=>\"6100\", :title=>\"Codex: Space Marines (Hardback)\", :code=>\"B001\", :status=>\"true\", :owner=>\"admin\", :__v=>\"0\"}}}, :__v=>\"0\"}\n    at StripeError.generate (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/Error.js:7:20)\n    at res.toJSON.then.StripeAPIError.message (file:///C:/Users/Usuario/Desktop/backend/entregables/node_modules/stripe/esm/RequestSender.js:102:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2023-12-13T15:11:59.731Z","type":"StripeInvalidRequestError"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:13:15.517Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'line_items')","stack":"TypeError: Cannot read properties of undefined (reading 'line_items')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:39)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:13:15.521Z"}
{"level":"error","message":"Stripe Success error: user is not defined","stack":"ReferenceError: user is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:42:25)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T15:19:17.629Z"}
{"level":"fatal","message":"Internal Server Error user is not defined","stack":"ReferenceError: user is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:42:25)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T15:19:17.632Z"}
{"level":"error","message":"Stripe Success error: cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T15:20:09.853Z"}
{"level":"fatal","message":"Internal Server Error cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T15:20:09.855Z"}
{"level":"error","message":"Stripe Success error: cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T15:22:01.163Z"}
{"level":"fatal","message":"Internal Server Error cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T15:22:01.167Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'data')","stack":"TypeError: Cannot read properties of undefined (reading 'data')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:50)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:24:23.366Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'data')","stack":"TypeError: Cannot read properties of undefined (reading 'data')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:50)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:24:23.369Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'data')","stack":"TypeError: Cannot read properties of undefined (reading 'data')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:50)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:27:27.014Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'data')","stack":"TypeError: Cannot read properties of undefined (reading 'data')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:39:50)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T15:27:27.018Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:30:15.101Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:30:45.320Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:31:45.676Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:37:41.916Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:44:35.170Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:45:00.892Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:47:18.783Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:47:36.216Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:53:46.553Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:54:04.700Z"}
{"level":"error","message":"Password Change Failed","timestamp":"2023-12-13T15:55:25.837Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:40:27)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T18:07:44.218Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:40:27)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2023-12-13T18:07:44.224Z"}
{"level":"error","message":"Stripe Success error: cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T18:12:48.032Z"}
{"level":"fatal","message":"Internal Server Error cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:43:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T18:12:48.039Z"}
{"level":"error","message":"Stripe Success error: cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T18:17:01.598Z"}
{"level":"fatal","message":"Internal Server Error cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:64)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2023-12-13T18:17:01.610Z"}
{"level":"error","message":"Stripe Success error: cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:64)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-13T18:17:45.341Z"}
{"level":"fatal","message":"Internal Server Error cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:64)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-13T18:17:45.344Z"}
{"level":"error","message":"Stripe Success error: cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:64)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-13T18:18:34.416Z"}
{"level":"fatal","message":"Internal Server Error cartId is not defined","stack":"ReferenceError: cartId is not defined\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:64)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-13T18:18:34.418Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:40:27)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:46:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-13T18:21:02.696Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:40:27)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:46:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-13T18:21:02.698Z"}
{"code":11000,"index":0,"keyPattern":{"code":1},"keyValue":{"code":2},"level":"error","message":"Stripe Success error: E11000 duplicate key error collection: ecommerce.tickets index: code_1 dup key: { code: 2 }","stack":"MongoServerError: E11000 duplicate key error collection: ecommerce.tickets index: code_1 dup key: { code: 2 }\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\operations\\insert.js:50:33\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:331:21\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\sdam\\server.js:209:17\n    at handleOperationResult (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\sdam\\server.js:337:20)\n    at Connection.onMessage (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\connection.js:206:9)\n    at MessageStream.<anonymous> (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)","timestamp":"2023-12-13T18:25:17.404Z"}
{"code":11000,"index":0,"keyPattern":{"code":1},"keyValue":{"code":2},"level":"fatal","message":"Internal Server Error E11000 duplicate key error collection: ecommerce.tickets index: code_1 dup key: { code: 2 }","stack":"MongoServerError: E11000 duplicate key error collection: ecommerce.tickets index: code_1 dup key: { code: 2 }\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\operations\\insert.js:50:33\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:331:21\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\sdam\\server.js:209:17\n    at handleOperationResult (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\sdam\\server.js:337:20)\n    at Connection.onMessage (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\connection.js:206:9)\n    at MessageStream.<anonymous> (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)","timestamp":"2023-12-13T18:25:17.407Z"}
{"_message":"tickets validation failed","errors":{"code":{"kind":"Number","message":"Cast to Number failed for value \"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\" (type string) at path \"code\"","name":"CastError","path":"code","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\"","value":"2cc83866-fa8e-4c75-b1ef-c68a735dd37e","valueType":"string"}},"level":"error","message":"Stripe Success error: tickets validation failed: code: Cast to Number failed for value \"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\" (type string) at path \"code\"","stack":"ValidationError: tickets validation failed: code: Cast to Number failed for value \"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\" (type string) at path \"code\"\n    at Document.invalidate (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at model.$set (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:1453:12)\n    at model.$set (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:1113:16)\n    at model.Document (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:164:12)\n    at model.Model (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\model.js:122:12)\n    at new model (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\model.js:4684:15)\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:47:28)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-14T14:20:39.808Z"}
{"_message":"tickets validation failed","errors":{"code":{"kind":"Number","message":"Cast to Number failed for value \"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\" (type string) at path \"code\"","name":"CastError","path":"code","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\"","value":"2cc83866-fa8e-4c75-b1ef-c68a735dd37e","valueType":"string"}},"level":"fatal","message":"Internal Server Error tickets validation failed: code: Cast to Number failed for value \"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\" (type string) at path \"code\"","stack":"ValidationError: tickets validation failed: code: Cast to Number failed for value \"2cc83866-fa8e-4c75-b1ef-c68a735dd37e\" (type string) at path \"code\"\n    at Document.invalidate (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at model.$set (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:1453:12)\n    at model.$set (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:1113:16)\n    at model.Document (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\document.js:164:12)\n    at model.Model (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\model.js:122:12)\n    at new model (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\mongoose\\lib\\model.js:4684:15)\n    at ticketManager.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/ticketsManagerDB.js:47:28)\n    at ticketService.createTicket (file:///C:/Users/Usuario/Desktop/backend/entregables/src/services/ticket.service.js:7:31)\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-14T14:20:39.814Z"}
{"level":"error","message":"Stripe Success error: Cannot read properties of undefined (reading 'sendPurchaseConfirmationEmail')","stack":"TypeError: Cannot read properties of undefined (reading 'sendPurchaseConfirmationEmail')\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-14T14:21:51.893Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'sendPurchaseConfirmationEmail')","stack":"TypeError: Cannot read properties of undefined (reading 'sendPurchaseConfirmationEmail')\n    at stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-14T14:21:51.895Z"}
{"level":"error","message":"Stripe error: Cart with id: 657b1c29868fcbc725545ce7 does not exist","stack":"Error: Cart with id: 657b1c29868fcbc725545ce7 does not exist\n    at cartManager.getCartByIdAndPopulate (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/cartManagerDB.js:45:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:25)","timestamp":"2023-12-14T15:17:11.586Z"}
{"level":"fatal","message":"Internal Server Error Cart with id: 657b1c29868fcbc725545ce7 does not exist","stack":"Error: Cart with id: 657b1c29868fcbc725545ce7 does not exist\n    at cartManager.getCartByIdAndPopulate (file:///C:/Users/Usuario/Desktop/backend/entregables/src/DAO/mongoManagers/cartManagerDB.js:45:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async stripeSuccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:44:25)","timestamp":"2023-12-14T15:17:11.593Z"}
{"level":"error","message":"Product with id:65669406c0ae37410b7501d6 Not found ","timestamp":"2023-12-15T17:48:15.218Z"}
