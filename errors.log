
{"level":"error","message":"error deleting product Cannot read properties of undefined (reading 'role')","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at deleteProduct (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/product.controller.js:166:22)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at premiumAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:40:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-06T01:43:41.088Z"}
{"error":{},"level":"fatal","message":"Internal Server Error","timestamp":"2023-12-06T01:43:41.093Z"}
{"level":"error","message":"User:Eri Does not own the product","timestamp":"2023-12-06T01:44:59.365Z"}
{"level":"error","message":"User:Testing  Does not own the product","timestamp":"2023-12-06T01:54:01.623Z"}
{"level":"error","message":"error deleting product Cannot read properties of undefined (reading 'role')","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at deleteProduct (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/product.controller.js:167:22)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at premiumAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:40:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-06T01:54:22.352Z"}
{"error":{},"level":"fatal","message":"Internal Server Error","timestamp":"2023-12-06T01:54:22.354Z"}
{"level":"error","message":"User:Testing  Does not own the product","timestamp":"2023-12-06T01:54:33.220Z"}
{"level":"error","message":"Product with id:65669406c0ae37410b7501d6 Not found ","timestamp":"2023-12-06T02:01:23.540Z"}
{"level":"error","message":"Purchase error: Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T20:59:30.235Z"}
{"level":"error","message":"Purchase error: Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:01:04.099Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:01:04.107Z"}
{"level":"error","message":"Purchase error: Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:02:21.706Z"}
{"level":"fatal","message":"Internal Server Error Cannot read properties of undefined (reading 'stripeSession')","stack":"TypeError: Cannot read properties of undefined (reading 'stripeSession')\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:40)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:101:10)","timestamp":"2023-12-12T21:02:21.709Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:35)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)","timestamp":"2023-12-12T21:03:51.489Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:35)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at userAccess (file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:24:9)\n    at Layer.handle [as handle_request] (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at file:///C:/Users/Usuario/Desktop/backend/entregables/src/middlewares/authentication.js:18:9\n    at C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\jsonwebtoken\\verify.js:97:14)","timestamp":"2023-12-12T21:03:51.493Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:04:31.007Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:04:31.008Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:45.721Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:45.725Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:58.248Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:06:58.251Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:08:29.155Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:08:29.162Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:10:01.813Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:10:01.821Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:12:35.189Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:12:35.194Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:04.255Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:04.256Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:54.835Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:13:54.839Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:16:48.907Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:16:48.910Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:19:13.160Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:19:13.161Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:24:38.477Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:33:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:24:38.481Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:34:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:27:24.142Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:34:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:27:24.148Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:28:52.708Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:39:29)","timestamp":"2023-12-12T21:28:52.713Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:30:11.133Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:30:11.137Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:31:25.311Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:35:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:31:25.318Z"}
{"level":"error","message":"Purchase error: res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:37:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:33:30.124Z"}
{"level":"fatal","message":"Internal Server Error res.status is not a function","stack":"TypeError: res.status is not a function\n    at stripeSession (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/payment.controller.js:37:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:40:29)","timestamp":"2023-12-12T21:33:30.132Z"}
{"level":"error","message":"Purchase error: ticket is not defined","stack":"ReferenceError: ticket is not defined\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:43:72)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:35:26.720Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:43:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:37:03.399Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:40:24.825Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:41:54.982Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:43:18.133Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:46:53.926Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:49:38.309Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:50:38.483Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:53:07.126Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:54:41.540Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:55:27.347Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:55:50.467Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:56:32.175Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Purchase error: Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Users\\Usuario\\Desktop\\backend\\entregables\\node_modules\\express\\lib\\response.js:278:15)\n    at cartPurchase (file:///C:/Users/Usuario/Desktop/backend/entregables/src/controllers/cart.controller.js:42:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2023-12-12T21:57:05.214Z"}
